#!/usr/bin/env ruby
# frozen_string_literal: true

$LOAD_PATH.unshift(__dir__ + '/../lib')

require 'gitgraphia'

git_sha = 'HEAD'

reader = Gitgraphia::Reader.new

reader.parents_of(git_sha).each do |parent_sha|
  puts "commit #{git_sha} -[:has_parent]-> commit #{parent_sha}"
end

tree_sha = reader.tree_of(git_sha)
puts "commit #{git_sha} -[:represents]-> tree #{tree_sha}"

reader.tree_to_files(tree_sha).each do |file|
  puts "tree #{tree_sha} -[:contains]-> #{file}"
end
